{
    "tests": [
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><body><a href='#1'><nobr>1<nobr></a><br><a href='#2'><nobr>2<nobr></a><br><a href='#3'><nobr>3<nobr></a>",
            "input": "<!DOCTYPE html><body><a href='#1'><nobr>1<nobr></a><br><a href='#2'><nobr>2<nobr></a><br><a href='#3'><nobr>3<nobr></a>",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "body",
                    {}
                ],
                [
                    "StartTag",
                    "a",
                    {
                        "href": "#1"
                    }
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "1"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "a"
                ],
                [
                    "StartTag",
                    "br",
                    {}
                ],
                [
                    "StartTag",
                    "a",
                    {
                        "href": "#2"
                    }
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "2"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "a"
                ],
                [
                    "StartTag",
                    "br",
                    {}
                ],
                [
                    "StartTag",
                    "a",
                    {
                        "href": "#3"
                    }
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "3"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "a"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><body><b><nobr>1<nobr></b><i><nobr>2<nobr></i>3",
            "input": "<!DOCTYPE html><body><b><nobr>1<nobr></b><i><nobr>2<nobr></i>3",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "body",
                    {}
                ],
                [
                    "StartTag",
                    "b",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "1"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "b"
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "2"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "i"
                ],
                [
                    "Character",
                    "3"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><body><b><nobr>1<table><nobr></b><i><nobr>2<nobr></i>3",
            "input": "<!DOCTYPE html><body><b><nobr>1<table><nobr></b><i><nobr>2<nobr></i>3",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "body",
                    {}
                ],
                [
                    "StartTag",
                    "b",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "1"
                ],
                [
                    "StartTag",
                    "table",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "b"
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "2"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "i"
                ],
                [
                    "Character",
                    "3"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><body><b><nobr>1<table><tr><td><nobr></b><i><nobr>2<nobr></i>3",
            "input": "<!DOCTYPE html><body><b><nobr>1<table><tr><td><nobr></b><i><nobr>2<nobr></i>3",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "body",
                    {}
                ],
                [
                    "StartTag",
                    "b",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "1"
                ],
                [
                    "StartTag",
                    "table",
                    {}
                ],
                [
                    "StartTag",
                    "tr",
                    {}
                ],
                [
                    "StartTag",
                    "td",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "b"
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "2"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "i"
                ],
                [
                    "Character",
                    "3"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><body><b><nobr>1<div><nobr></b><i><nobr>2<nobr></i>3",
            "input": "<!DOCTYPE html><body><b><nobr>1<div><nobr></b><i><nobr>2<nobr></i>3",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "body",
                    {}
                ],
                [
                    "StartTag",
                    "b",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "1"
                ],
                [
                    "StartTag",
                    "div",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "b"
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "2"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "i"
                ],
                [
                    "Character",
                    "3"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><body><b><nobr>1<nobr></b><div><i><nobr>2<nobr></i>3",
            "input": "<!DOCTYPE html><body><b><nobr>1<nobr></b><div><i><nobr>2<nobr></i>3",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "body",
                    {}
                ],
                [
                    "StartTag",
                    "b",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "1"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "b"
                ],
                [
                    "StartTag",
                    "div",
                    {}
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "2"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "i"
                ],
                [
                    "Character",
                    "3"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><body><b><nobr>1<nobr><ins></b><i><nobr>",
            "input": "<!DOCTYPE html><body><b><nobr>1<nobr><ins></b><i><nobr>",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "body",
                    {}
                ],
                [
                    "StartTag",
                    "b",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "1"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "StartTag",
                    "ins",
                    {}
                ],
                [
                    "EndTag",
                    "b"
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><body><b><nobr>1<ins><nobr></b><i>2",
            "input": "<!DOCTYPE html><body><b><nobr>1<ins><nobr></b><i>2",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "body",
                    {}
                ],
                [
                    "StartTag",
                    "b",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "1"
                ],
                [
                    "StartTag",
                    "ins",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "b"
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "Character",
                    "2"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><body><b>1<nobr></b><i><nobr>2</i>",
            "input": "<!DOCTYPE html><body><b>1<nobr></b><i><nobr>2</i>",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "body",
                    {}
                ],
                [
                    "StartTag",
                    "b",
                    {}
                ],
                [
                    "Character",
                    "1"
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "EndTag",
                    "b"
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "StartTag",
                    "nobr",
                    {}
                ],
                [
                    "Character",
                    "2"
                ],
                [
                    "EndTag",
                    "i"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<p><code x</code></p>\\n",
            "input": "<p><code x</code></p>\n",
            "output": [
                [
                    "StartTag",
                    "p",
                    {}
                ],
                [
                    "StartTag",
                    "code",
                    {
                        "x<": "",
                        "code": ""
                    }
                ],
                [
                    "EndTag",
                    "p"
                ],
                [
                    "Character",
                    "\n"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><svg><foreignObject><p><i></p>a",
            "input": "<!DOCTYPE html><svg><foreignObject><p><i></p>a",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "svg",
                    {}
                ],
                [
                    "StartTag",
                    "foreignObject",
                    {}
                ],
                [
                    "StartTag",
                    "p",
                    {}
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "EndTag",
                    "p"
                ],
                [
                    "Character",
                    "a"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><table><tr><td><svg><foreignObject><p><i></p>a",
            "input": "<!DOCTYPE html><table><tr><td><svg><foreignObject><p><i></p>a",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "table",
                    {}
                ],
                [
                    "StartTag",
                    "tr",
                    {}
                ],
                [
                    "StartTag",
                    "td",
                    {}
                ],
                [
                    "StartTag",
                    "svg",
                    {}
                ],
                [
                    "StartTag",
                    "foreignObject",
                    {}
                ],
                [
                    "StartTag",
                    "p",
                    {}
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "EndTag",
                    "p"
                ],
                [
                    "Character",
                    "a"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><math><mtext><p><i></p>a",
            "input": "<!DOCTYPE html><math><mtext><p><i></p>a",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "math",
                    {}
                ],
                [
                    "StartTag",
                    "mtext",
                    {}
                ],
                [
                    "StartTag",
                    "p",
                    {}
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "EndTag",
                    "p"
                ],
                [
                    "Character",
                    "a"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><table><tr><td><math><mtext><p><i></p>a",
            "input": "<!DOCTYPE html><table><tr><td><math><mtext><p><i></p>a",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "table",
                    {}
                ],
                [
                    "StartTag",
                    "tr",
                    {}
                ],
                [
                    "StartTag",
                    "td",
                    {}
                ],
                [
                    "StartTag",
                    "math",
                    {}
                ],
                [
                    "StartTag",
                    "mtext",
                    {}
                ],
                [
                    "StartTag",
                    "p",
                    {}
                ],
                [
                    "StartTag",
                    "i",
                    {}
                ],
                [
                    "EndTag",
                    "p"
                ],
                [
                    "Character",
                    "a"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<!DOCTYPE html><body><div><!/div>a",
            "input": "<!DOCTYPE html><body><div><!/div>a",
            "output": [
                [
                    "DOCTYPE",
                    "html",
                    null,
                    null,
                    true
                ],
                [
                    "StartTag",
                    "body",
                    {}
                ],
                [
                    "StartTag",
                    "div",
                    {}
                ],
                [
                    "Comment",
                    "/div"
                ],
                [
                    "Character",
                    "a"
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<button><p><button>",
            "input": "<button><p><button>",
            "output": [
                [
                    "StartTag",
                    "button",
                    {}
                ],
                [
                    "StartTag",
                    "p",
                    {}
                ],
                [
                    "StartTag",
                    "button",
                    {}
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<svg></p><foo>",
            "input": "<svg></p><foo>",
            "output": [
                [
                    "StartTag",
                    "svg",
                    {}
                ],
                [
                    "EndTag",
                    "p"
                ],
                [
                    "StartTag",
                    "foo",
                    {}
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<svg></br><foo>",
            "input": "<svg></br><foo>",
            "output": [
                [
                    "StartTag",
                    "svg",
                    {}
                ],
                [
                    "EndTag",
                    "br"
                ],
                [
                    "StartTag",
                    "foo",
                    {}
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<math></p><foo>",
            "input": "<math></p><foo>",
            "output": [
                [
                    "StartTag",
                    "math",
                    {}
                ],
                [
                    "EndTag",
                    "p"
                ],
                [
                    "StartTag",
                    "foo",
                    {}
                ]
            ]
        },
        {
            "fragmentContext": null,
            "description": "<math></br><foo>",
            "input": "<math></br><foo>",
            "output": [
                [
                    "StartTag",
                    "math",
                    {}
                ],
                [
                    "EndTag",
                    "br"
                ],
                [
                    "StartTag",
                    "foo",
                    {}
                ]
            ]
        }
    ]
}